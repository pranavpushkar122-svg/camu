<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bennett University</title>
  <link rel="stylesheet" href="style.css">
  <script>
    function openMenu(){ 
      document.getElementById('drawer').classList.add('open'); 
      document.getElementById('overlay').classList.add('show');
    }
    function closeMenu(){ 
      document.getElementById('drawer').classList.remove('open'); 
      document.getElementById('overlay').classList.remove('show');
    }
    function logout(){
      window.location.href = "index.html";
    }
    document.addEventListener('keydown', (e)=>{
      if(e.key === 'Escape'){ closeMenu(); }
    });
  </script>
</head>
<body>
    <!-- Top navigation -->
  <header class="profile-header">
    <button class="menu-btn" aria-label="Open menu" onclick="openMenu()">☰</button>
    <h1 class="header-title">Bennett University</h1>
  </header>

  <!-- Overlay -->
  <div id="overlay" class="overlay" onclick="closeMenu()" aria-hidden="true"></div>

  <!-- Drawer -->
  <aside id="drawer" class="drawer" aria-label="Main menu">
    <div class="drawer-header">
      <img src="MY PIC.jpg" alt="Profile" class="drawer-avatar"/>
      <div>
        <div class="drawer-name">ANANYA GUPTA</div>
        <div class="drawer-sub">S24CSEU1804</div>
      </div>
    </div>

    <nav class="drawer-nav">
      <button onclick="window.location.href='institution.html'">MY INSTITUTION</button>
      <button onclick="window.location.href='messages.html'">MESSAGES</button>
      <button onclick="location.href='attendance.html'">ATTENDANCE</button>
      <button onclick="location.href='examschedule.html'">EXAM SHEDULES</button>
      <button onclick="location.href='Reports.html'">REPORTS</button>
      <button onclick="location.href='progress_report.html'">PROGRESS REPORT</button>
      <button onclick="location.href='holiday.html'">HOLIDAYS</button>
      <button onclick="location.href='cafeteria.html'">CAFETERIA</button>
      <button onclick="location.href='timetable.html'">TIMETABLE</button>
      <button onclick="location.href='leave.html'">LEAVE AND GATE PASS</button>
      <button onclick="location.href='services.html'">SERVICES</button>
      <button onclick="location.href='enrollment.html'">ENROLLMENT</button>
      <button onclick="location.href='activity.html'">ACTIVITY</button>
      <button onclick="location.href='Clearance.html'">CLEARANCE</button>
      <button onclick="location.href='announcement.html'">ANNOUNCEMENT</button>
      <button onclick="location.href='feedback.html'">FEEDBACK</button>
      <button onclick="location.href='project.html'">PROJECT</button>
      <button onclick="location.href='portfolio.html'">E PORTFOLIO</button>
      <button onclick="location.href='result.html'">FINAL RESULT</button>
    </nav>

    <div class="drawer-footer">
      <button class="logout-btn" onclick="logout()">LOG OUT</button>
    </div>
  </aside>


  
  <!-- Profile Card -->
  <section class="profile-card">
    <img src="MY PIC.jpg" alt="Profile Photo" class="profile-img">
    <div class="profile-info">
      <h2>ANANYA GUPTA</h2>
      <p>Bennett University</p>
      <p>Semester - 3 | 2025-2026</p>
    </div>
  </section>


  <!-- Apply Leave Section -->
  <section class="apply-section">
    <h3>Apply leave and gate pass</h3>
    <button id="openForm" class="primary-btn">Apply leave and gate pass</button>
  </section>

  <!-- Summary Cards Container -->
  <section id="summaryContainer" class="summary-container">
  <!-- Manual Cards -->
    <div class="summary-card">
    <h4>day out pass</h4>
    <p><strong>DATE:</strong> 25-Oct-2025 to 25-Oct-2025</p>
    <p><strong>REASON:</strong> alpha 2 jana h</p>
    <p><strong>Status:</strong> <span class="status approved">Approved</span></p>
    <button class="view-btn">View Status</button>
  </div>
    
  <div class="summary-card">
    <h4>Day Out Pass</h4>
    <p><strong>DATE:</strong> 17-Aug-2025 to 17-Aug-2025</p>
    <p><strong>REASON:</strong> Family visit</p>
    <p><strong>Status:</strong> <span class="status approved">Approved</span></p>
    <button class="view-btn">View Status</button>
  </div>

  <div class="summary-card">
    <h4>Leave</h4>
    <p><strong>DATE:</strong> 10-Sep-2025 to 12-Sep-2025</p>
    <p><strong>REASON:</strong> Health issues</p>
    <p><strong>Status:</strong> <span class="status rejected">Rejected</span></p>
    <button class="view-btn">View Status</button>
  </div>

  <div class="summary-card">
    <h4>Medical Leave</h4>
    <p><strong>DATE:</strong> 5-Oct-2025 to 7-Oct-2025</p>
    <p><strong>REASON:</strong> Doctor appointment</p>
    <p><strong>Status:</strong> <span class="status submitted">Submitted</span></p>
    <button class="view-btn">View Status</button>
  </div>

  <div class="summary-card">
    <h4>On Duty</h4>
    <p><strong>DATE:</strong> 20-Oct-2025 to 21-Oct-2025</p>
    <p><strong>REASON:</strong> University event</p>
    <p><strong>Status:</strong> <span class="status approved">Approved</span></p>
    <button class="view-btn">View Status</button>
  </div>

  <div class="summary-card">
    <h4>Leave Out Pass</h4>
    <p><strong>DATE:</strong> 2-Nov-2025 to 3-Nov-2025</p>
    <p><strong>REASON:</strong> Family function</p>
    <p><strong>Status:</strong> <span class="status submitted">Submitted</span></p>
    <button class="view-btn">View Status</button>
  </div>

     
</section>


  <!-- Form Modal -->
  <div id="formModal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h2>Apply Leave / Gate Pass</h2>

      <form id="leaveForm">
        <!-- Leave type -->
        <label>Leave Type</label>
        <select required>
          <option value="leave">Leave</option>
          <option value="on-duty">On Duty</option>
          <option value="medical">Medical Leave</option>
        </select>

        <!-- Dates -->
        <label>Start Date</label>
        <input type="date" required>
        <label>To Date</label>
        <input type="date" required>

        <!-- Half Day -->
        <div class="checkbox-group">
          <input type="checkbox" id="halfDay">
          <label for="halfDay">Half Day</label>
        </div>
        <div class="checkbox-group">
          <input type="checkbox" id="periodWise">
          <label for="periodWise">Period Wise</label>
        </div>

        <!-- Reason -->
        <label>Reason</label>
        <textarea rows="3" required></textarea>

        <!-- File Upload -->
        <label>Upload Document</label>
        <input type="file">

        <!-- Gate Pass -->
        <div class="checkbox-group">
          <input type="checkbox" id="gatePass">
          <label for="gatePass">Apply Gate Pass</label>
        </div>

        <label>Gate Pass Type</label>
        <select>
          <option value="day-out">Day Out Pass</option>
          <option value="leave-out">Leave Out Pass</option>
        </select>

        <!-- From Date & Time -->
        <label>From Date & Time</label>
        <input type="date"> <input type="time">

        <!-- To Date & Time -->
        <label>To Date & Time</label>
        <input type="date"> <input type="time">

        <!-- Reason Gate Pass -->
        <label>Reason for Gate Pass</label>
        <textarea rows="3"></textarea>

        <!-- File Upload -->
        <label>Upload Document</label>
        <input type="file">

        <!-- Buttons -->
        <div class="form-actions">
          <button type="submit" class="primary-btn">Save</button>
          <button type="reset" class="secondary-btn">Reset</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Popup for Approve/Reject -->
  <div id="popupModal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h2 id="popupTitle">Day Out Pass</h2>
      <p><strong>From:</strong> <span id="popupFrom"></span></p>
      <p><strong>To:</strong> <span id="popupTo"></span></p>
      <p><strong>Reason:</strong> <span id="popupReason"></span></p>

      <div class="popup-actions">
        <button id="approveBtn" class="approve-btn">Approve</button>
        <button id="rejectBtn" class="reject-btn">Reject</button>
        <button id="cancelBtn" class="secondary-btn">Cancel</button>
      </div>
    </div>
  </div>

  <!-- JavaScript -->
  <script>
    // Get elements
    const openFormBtn = document.getElementById("openForm");
    const formModal = document.getElementById("formModal");
    const popupModal = document.getElementById("popupModal");
    const closeButtons = document.querySelectorAll(".close");
    const leaveForm = document.getElementById("leaveForm");
    const summaryContainer = document.getElementById("summaryContainer");

    // Popup elements
    const popupTitle = document.getElementById("popupTitle");
    const popupFrom = document.getElementById("popupFrom");
    const popupTo = document.getElementById("popupTo");
    const popupReason = document.getElementById("popupReason");
    const approveBtn = document.getElementById("approveBtn");
    const rejectBtn = document.getElementById("rejectBtn");
    const cancelBtn = document.getElementById("cancelBtn");

    let currentCard = null;

    // Open the form modal
    openFormBtn.onclick = () => {
      formModal.style.display = "block";
    };

    // Close modals
    closeButtons.forEach(btn => {
      btn.onclick = () => {
        formModal.style.display = "none";
        popupModal.style.display = "none";
      };
    });
    cancelBtn.onclick = () => {
      popupModal.style.display = "none";
    };

    // Submit form
    leaveForm.onsubmit = (e) => {
      e.preventDefault();

      const leaveType = leaveForm.querySelector("select").value;
      const startDate = leaveForm.querySelectorAll("input[type='date']")[0].value;
      const endDate = leaveForm.querySelectorAll("input[type='date']")[1].value;
      const reason = leaveForm.querySelector("textarea").value;

      // Create card
      const card = document.createElement("div");
      card.className = "summary-card";
      card.innerHTML = `
        <h4>${leaveType === "on-duty" ? "On Duty" : leaveType === "medical" ? "Medical Leave" : "Leave"}</h4>
        <p><strong>Date:</strong> ${startDate} to ${endDate}</p>
        <p><strong>Reason:</strong> ${reason}</p>
        <button class="status submitted">Submitted</button>
        <button class="more-btn">⋮</button>
      `;

      // Add card
      summaryContainer.prepend(card);

      // Reset and close form
      leaveForm.reset();
      formModal.style.display = "none";

      // More button
      const moreBtn = card.querySelector(".more-btn");
      moreBtn.onclick = () => {
        currentCard = card;
        popupTitle.textContent = leaveType === "on-duty" ? "On Duty" : leaveType === "medical" ? "Medical Leave" : "Leave";
        popupFrom.textContent = startDate;
        popupTo.textContent = endDate;
        popupReason.textContent = reason;
        popupModal.style.display = "block";
      };
    };

    // Approve / Reject
    approveBtn.onclick = () => {
      if (currentCard) {
        const statusBtn = currentCard.querySelector(".status");
        statusBtn.textContent = "Approved";
        statusBtn.className = "status approved";
        popupModal.style.display = "none";
      }
    };

    rejectBtn.onclick = () => {
      if (currentCard) {
        const statusBtn = currentCard.querySelector(".status");
        statusBtn.textContent = "Rejected";
        statusBtn.className = "status rejected";
        popupModal.style.display = "none";
      }
    };

    // Close modal on outside click
    window.onclick = (e) => {
      if (e.target === formModal) formModal.style.display = "none";
      if (e.target === popupModal) popupModal.style.display = "none";
    };
  </script>
</body>
</html>
